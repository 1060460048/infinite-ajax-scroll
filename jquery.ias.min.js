/*!
 * Infinite Ajax Scroll, a jQuery plugin 
 * Version v0.1.0
 * http://webcreate.nl/
 *
 * Copyright (c) 2011 Jeroen Fiege
 * Licensed under the MIT License: 
 * http://webcreate.nl/license
 */
(function(b){b.ias=function(m){var c=b.extend({},b.ias.defaults,m);l();function l(){f();b(window).scroll(i)}function i(){scrTop=b(window).scrollTop();docHeight=b(document).height();wndHeight=b(window).height();curScrOffset=scrTop+wndHeight;if(curScrOffset>=e()){h()}}function k(){b(window).unbind("scroll",i)}function f(){b(c.pagination).hide()}function e(){el=b(c.container).find(c.item).last();if(el.size()==0){return k()}treshold=el.offset().top+el.height();return treshold}function h(){urlNextPage=b(c.next).attr("href");if(!urlNextPage){return k()}k();j();b.get(urlNextPage,null,function(n){b(c.container,n).find(c.item).each(function(){item=b(this);item.hide();curLastItem=b(c.container).find(c.item).last();curLastItem.after(item);item.fadeIn()});b(c.pagination).replaceWith(b(c.pagination,n));d();l()},"html")}function g(){loader=b(".ias_loader");if(loader.size()==0){loader=b("<div class='ias_loader' style='text-align:center; margin: 5px 0;'><img src='"+c.loader+"'/></div>");loader.hide()}return loader}function j(n){loader=g();el=b(c.container).find(c.item).last();el.after(loader);loader.fadeIn()}function d(){loader=g();loader.remove()}};function a(c){if(window.console&&window.console.log){window.console.log(c)}}b.ias.defaults={container:"#container",item:".post",pagination:"#pagination",next:".next",}})(jQuery);